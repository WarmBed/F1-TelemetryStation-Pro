# F1-TelemetryStation-Pro

**F1 數據分析工具**

[English](README.md) | 繁體中文

## 這是什麼？

F1-TelemetryStation-Pro 是一個開源的 **F1 數據分析**與遙測數據視覺化工具。  
讓賽車工程師、模擬賽車玩家和數據愛好者能夠使用真實的 Formula 1 遙測數據分析圈速、油門使用、速度軌跡以及車手比較。

專業的 Formula 1 遙測分析工作站，提供全面的賽事數據分析能力。

![F1 數據分析遙測視覺化工具](/images/Rain.track.pitstop.tire.accident.png)

## 🌟 功能概覽

### 核心分析模組

#### 🌧️ 降雨分析模組
分析整場比賽的氣象條件
- **每圈溫度變化**
- **降雨追蹤**與趨勢
- **天氣對比賽策略的影響**

#### 🏁 圈速分析模組
深入的單圈性能分析
- 車手圈速比較
- 最快圈分析
- 完整遙測數據

![F1 數據分析遙測視覺化工具](/images/Lap.track.png)

**子模組：**
- ⚡ **速度分析** - 速度追蹤與比較
- 🛑 **剎車分析** - 剎車壓力與剎車點
- ⚡ **油門分析** - 油門踏板位置
- ⚙️ **檔位分析** - 換檔模式
- 🔄 **轉速分析** - 引擎轉速監控
- 📈 **加速度** - G 力分析
- 📊 **速度差異** - 速度差異追蹤
- 📏 **距離差異** - 累積距離差距

#### 🚀 油門分析模組
全面的油門使用分析與比較

**油門折線圖：**
- **雙車手比較**：比較兩位車手的油門使用模式
- **每圈百分比**：視覺化每圈的全油門使用百分比
- **互動式提示框**：可拖曳的提示框，顯示詳細圈速資訊
- **系統設定整合**：自訂顯示偏好
- **Driver 2 優化**：可選的第二車手選擇（預設為無）

**油門箱型圖：**
- **統計分佈**：所有車手油門使用的箱型圖視覺化
- **百分比模式**：在實際百分比或圈速百分比顯示之間切換
- **最小/最大值提示**：懸停查看極值和離群值
- **多車手比較**：分析整個車陣的油門模式
- **車隊顏色編碼**：以車隊顏色進行視覺識別

**主要功能：**
- 📊 逐圈油門使用追蹤
- 🎯 獨立選擇的雙車手比較
- 🖱️ 可拖曳圖例和可固定數據點
- 📈 即時數據點提示框與拖曳支援
- ⚙️ 可透過系統設定對話框配置
- 🎨 基於車隊的配色方案

#### 🏎️ 進站分析模組
策略性進站效率評估
- 進站時間統計
- 進站次數比較
- 車隊效率指標

![F1 數據分析遙測視覺化工具](/images/pitstop.accidient.png)

#### 🗺️ 賽道分析模組
互動式賽道視覺化
- 賽道軌跡顯示
- 車手位置標記
- 縮放和平移支援

#### 🚗 詳細圈速分析
進階圈速數據分析
- 詳細圈速表格
- 箱型圖視覺化
- 統計分佈分析

![F1 數據分析遙測視覺化工具](/images/tire.lap.detailed.rain.png)

#### 🔥 事故分析模組
比賽事件調查
- 事故時間戳記
- 涉及車手
- 影響評估

#### 🏁 輪胎策略分析
輪胎使用與策略評估
- 輪胎配方選擇分析
- 衰退曲線
- 進站時機優化

#### 📊 理想圈分析模組（V0.3.0 新增）
全面的理論最佳圈速分析與分段比較

**理想圈排名表格：**
- **完整車陣分析**：所有車手的理論最佳圈速
- **統計指標**：中位數、範圍和差距計算
- **車隊顏色編碼**：標準化顏色的車手視覺識別
- **賽段摘要**：最快圈速與完美圈速達成率
- **分段詳細資料**：個別分段性能，帶有視覺指標（✓ = 最佳，✗ = 可改進）
- **API 整合**：來自 F1T API 的即時數據

**理想圈分段比較：**
- **分段分析**：詳細的 S1、S2、S3 差異比較
- **累積差異視覺化**：顯示總改進潛力的柱狀圖
- **可排序欄位**：點擊按任何分段或累積差異排序
- **顏色編碼性能**：差距顯示的統一顏色標準

![F1 數據分析遙測視覺化工具](/images/Ideal_Lap.png)

**UI 優化**（2025年10月10日）：
- ✅ 分段標記混合顏色顯示（綠色 ✓，黑色 ✗）
- ✅ 所有差距顯示的統一顏色標準（0.2秒、0.5秒門檻）
- ✅ 分段比較表格中的可排序累積差異

![F1 數據分析遙測視覺化工具](/images/ideal_lap_ranking.png)

#### 🌳 互動式圈速樹狀圖（V0.3.0 新增）
具有智慧篩選的階層式圈速數據視覺化

- **樹狀結構**：以車手組織圈速，可展開節點
- **智慧篩選**：排除進站圈、安全車圈和統計離群值
- **統計摘要**：每位車手的圈數、中位圈速和圈速範圍
- **點擊分析**：雙擊任何圈速查看詳細遙測分析
- **視覺指標**：顏色編碼的圈速，顯示最快/最慢圈
- **響應式設計**：自動調整欄位寬度，最佳寬度分配

![F1 數據分析遙測視覺化工具](/images/lap_tree_view.png)

![F1 數據分析遙測視覺化工具](/images/throttle.png)

## 🔗 特殊功能

### 聯動系統
- **X 軸同步**：多個遙測圖表顯示相同位置
- **點擊聯動**：點擊一個圖表，其他圖表自動跟隨
- **主開關**：全域啟用/停用聯動功能

### 工作區管理
- **儲存工作區**：保留當前分析配置
- **載入工作區**：快速恢復之前的分析環境
- **多分頁支援**：同時開啟多個分析視角

### MDI 視窗系統
- **自由排列**：自由拖曳和調整視窗大小
- **層疊/平鋪**：快速視窗佈局組織
- **彈出功能**：獨立顯示分析視窗

### 增強圖表互動（V0.2.0 新增）
- **可拖曳提示框**：將提示框固定並拖曳到任何位置
- **數據點固定**：點擊固定數據點，持續顯示提示框
- **連接線**：虛線連接提示框到原始數據點
- **雙車手提示框分離**：每位車手數據的獨立提示框
- **可拖曳圖例**：重新定位圖表圖例以獲得更好的可見性

## 🌐 系統亮點

- **多語言支援**：中文 🇹🇼 / English 🇺🇸 / 日本語 🇯🇵
- **API-ONLY 模式**：僅透過 REST API 擷取數據
- **參數同步**：在主視窗和子視窗之間同步年份/賽事/賽段設定
- **模組化設計**：獨立且可擴展的分析模組
- **動態導入架構**：透過按需載入模組優化記憶體使用

## 🆕 V0.2.0 新功能

### 主要功能

### 錯誤修正

### UI/UX 改進

### 技術改進

## 📋 系統需求
- **作業系統**：Windows 10 或更新版本

## 🚀 安裝
2. 執行 `F1T_GUI.exe`
3. 不需要安裝 Python！

## 📖 快速入門指南

1. **選擇年份/賽事/賽段**：從主視窗下拉選單選擇
2. **選擇分析模組**：從選單選擇（例如：油門分析 > 油門折線圖）
3. **選擇車手**：用於比較（Driver 1 必填，Driver 2 選填）
4. **查看分析結果**：在 MDI 視窗中
5. **與圖表互動**：固定提示框、拖曳圖例、縮放/平移

### 範例：油門折線圖分析
```
1. 選單：油門分析 > 油門折線圖
2. 設定：Year=2025, Race=Japan, Session=R
3. 選擇：Driver 1 = VER, Driver 2 = LEC（或無）
4. 查看：每圈油門使用比較
5. 互動：點擊固定提示框，拖曳重新定位
```

## 📝 版本歷史

### 當前版本：V0.3.0（2025-10-10）
**主要功能：**
- ✅ **理想圈排名分析**：所有車手的全面理論最佳圈速比較
- ✅ **理想圈分段比較**：詳細的分段性能分析與累積差異視覺化
- ✅ **互動式圈速樹狀圖**：具有智慧篩選和點擊分析功能的階層式圈速數據視圖
- ✅ **箱型圖字體標準化**：所有圖表元素統一使用 8pt 字體以保持一致性

**UI 優化：**
- 🎨 分段標記混合顏色顯示（綠色 ✓ 表示最佳，黑色 ✗ 表示可改進）
- 🎨 差距顯示的統一顏色標準（0.2秒、0.5秒門檻）
- 🎨 分段比較表格中的可排序累積差異欄位
- 🎨 車隊顏色編碼，黑色文字以獲得更好的可讀性

**技術改進：**
- 自訂 `SectorMarksDelegate` 用於逐字符顏色渲染
- 共用顏色配置模組以保持視覺一致性
- 增強的排序功能，具有雙重 DisplayRole/UserRole 數據
- API 優先的數據載入架構

### 前一版本：V0.2.1（2025-10-09）
- 色彩調色板系統增加 API-only 模式切換
- 更新 2025 車隊/車手顏色，強化 API 備援機制
- 圈速/油門箱型圖現在以黑色渲染中位數與離群值
- 主視窗和打包元數據更新至 V0.2.1

### 前一版本：V0.2.0（2025-10-08）
- 新增油門分析模組（折線圖 + 箱型圖）
- 增強提示框系統，支援拖曳
- 改進雙車手比較
- 多項錯誤修正和 UI 改進

### 舊版本：V0.1.0
- 初始版本，包含核心分析模組
- 基本遙測分析
- MDI 工作區系統

## 👥 貢獻

歡迎貢獻！請隨時提交 pull request 或針對錯誤和功能請求開啟 issue。

### 開發指南
- 遵循現有程式碼結構
- 為新的動態導入更新 `F1T_GUI.spec` 中的 `hiddenimports`
- 測試 Python 和 EXE 環境
- 為新功能更新文檔

## 📄 授權

本專案採用 MIT 授權 - 詳見 LICENSE 檔案

## 🙏 致謝

- [FastF1](https://github.com/theOehrly/Fast-F1) API 貢獻者
- [OpenF1](https://openf1.org/) API 貢獻者
- PyQt5 框架
- 所有貢獻者和測試人員

## 📧 聯絡方式

- **GitHub**：[WarmBed/F1-TelemetryStation-Pro](https://github.com/WarmBed/F1-TelemetryStation-Pro)
- **Issues**：[回報錯誤](https://github.com/WarmBed/F1-TelemetryStation-Pro/issues)
- **Discussions**：[加入討論](https://github.com/WarmBed/F1-TelemetryStation-Pro/discussions)

## 📸 截圖

### 油門折線圖（V0.2.0）
*每圈油門使用比較，支援雙車手*

### 油門箱型圖（V0.2.0）
*所有車手油門使用的統計分佈*

### 詳細圈速分析
*箱型圖視覺化的全面圈速分析*

### 多視窗 MDI 工作區
*具有多個分析視圖的靈活工作區*

---

**用 ❤️ 為 F1 愛好者和數據分析師打造**

**如果您覺得有用，請給本專案加星 ⭐！**
